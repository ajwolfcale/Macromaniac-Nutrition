
<h1>Search Foods</h1>

<div class="allAPI">
    <form ng-submit="searchFoods()" class ="searchWrapper">
        <input id="searchBar" class="form-control form-control-lg" type="text" placeholder="What have you eaten today?" ng-model="searchBar">
        <button class="btn btn-default" type="button" ng-click="isCollapsed = !isCollapsed">Search</button>
    </form>
    <!-- --------------------------------------FOOD RESULTS--------------------------------------- -->
    <div uib-collapse="!isCollapsed" class="foodBox">
        <form id="foodCard">
            <ul id="foodItems" class="list-group list-group-flush">
                <li class="foodResults list-group-item" ng-repeat="food in foods | filter: searchBar">
                    <input class="cardLine" type="image" src="images/add1.png" ng-click=addDbNutrients(food.fields)>
                    <h6 class="cardLine foodBrand"> {{food.fields.brand_name}} | </h6>
                    <h6 class="cardLine foodName">{{food.fields.item_name}}:</h6>
                    Serving Size: <div class="cardLine foodDeets">{{food.fields.nf_serving_size_qty}}</div>
                    Calories: <div class="cardLine foodDeets" ng-model="consumedToday.calories">{{food.fields.nf_calories}}</div>
                    Protein: <div class="cardLine foodDeets" ng-model="consumedToday.protein">{{food.fields.nf_protein}}</div>
                    Fat: <div class="cardLine foodDeets" ng-model="consumedToday.fat">{{food.fields.nf_total_fat}}</div>
                    Carbohydrates: <div class="cardLine foodDeets" ng-model="consumedToday.carbs">{{food.fields.nf_total_carbohydrate}}</div>
                </li>
            </ul>
        </form>
    </div>
</div>

<!-- ---------------------------MANUAL FORM TO ENTER NUTRIENTS--------------------------- -->
<hr>
<button type="button" class="btn btn-default" ng-click="isCollapsed = !isCollapsed">Toggle collapse Vertically</button>
<hr>
<div uib-collapse="isCollapsed" class="formWrapper">
    <!-- <h4>If you have manually counted your calories and macros, use this form to update your profile:</h4> -->
    <form class="well well-lg" ng-submit="addNutrients()">
        Date: 
        <div moment-picker="myDate"> </div>
        <div class="input-group form-control form-control-sm"
             moment-picker="ctrl.datepicker"
             format="L"
             min-view="month"
             max-view="day"
             today="true"
             set-on-select="true"
             change="formatDate(newValue._i)"
             >
            <!-- <span class="input-group-addon">
                <i class="octicon octicon-calendar"></i>
            </span> -->
            <input class="form-control"
                   placeholder="Select a date"
                   ng-model="ctrl.datepicker"
                   ng-model-options="{ updateOn: 'blur' }">
        </div>
        <input class="form-control form-control-sm" type="number" ng-model="consumedToday.calories" placeholder="Calories..."> 
        <input class="form-control form-control-sm" type="number" ng-model="consumedToday.protein" placeholder="Protein...">
        <input class="form-control form-control-sm" type="number" ng-model="consumedToday.fat" placeholder="Fats...">
        <input class="form-control form-control-sm" type="number" ng-model="consumedToday.carbs" placeholder="Carbohydrates...">
        <button class="btn btn-default" id="addNutrients" type="submit">Add Nutrients</button>
    </form>
</div>

<h4>Progress</h4>
<div id="graphContainer">
        <!-- PIE -->
        <div id="pieContainer" ng-model="pieChart">
            <canvas id="doughnut" class="chart chart-doughnut" chart-data="pieData" chart-labels="pieLabels">
            </canvas>
        </div>
    <!-- LINE -->
        <div id="lineContainer">
            <canvas id="line" class="chart chart-line" chart-data="lineData" chart-labels="lineLabels" chart-series="lineSeries" chart-options="options"
            chart-dataset-override="datasetOverride" chart-click="onClick">
            </canvas>
        </div>
</div>


<!-- <canvas id="bar" class="chart chart-bar"
chart-data="data" chart-labels="labels" 
chart-colors = "colors" chart-options="labelOptions"
>
</canvas>
 -->





